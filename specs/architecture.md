
┌─────────────────┐ ┌──────────────────────────────────────────────┐
┌─────────────────┐
│ │ │ FastAPI Server │ │
│
│ │ │ ┌────────────────────────────────────────┐ │ │
│
│ ChatKit UI │────▶│ │ Chat Endpoint │ │ │
Neon DB │
│ (Frontend) │ │ │ POST /api/chat │ │ │
(PostgreSQL) │
│ │ │ └───────────────┬────────────────────────┘ │ │
│
│ │ │ │ │ │

- tasks │
│ │ │ ▼ │ │
- conversations│
│ │ │ ┌────────────────────────────────────────┐ │ │
- messages │
│ │◀────│ │ OpenAI Agents SDK │ │ │
│
│ │ │ │ (Agent + Runner) │ │ │
│
│ │ │ └───────────────┬────────────────────────┘ │ │
│
│ │ │ │ │ │
│
│ │ │ ▼ │ │
│
│ │ │ ┌────────────────────────────────────────┐ │────▶│
│
│ │ │ │ MCP Server │ │ │
│
│ │ │ │ (MCP Tools for Task Operations) │ │◀────│
│
│ │ │ └────────────────────────────────────────┘ │ │
│
└─────────────────┘ └──────────────────────────────────────────────┘
└─────────────────┘

┌───────────────────────────────────────────────────────────────────────────────

───────┐
│ KUBERNETES CLUSTER
│
│
│
│ ┌─────────────┐ ┌─────────────┐
┌─────────────────────────────────────────────┐ │
│ │ Frontend │ │ Chat API │ │ KAFKA CLUSTER
│ │
│ │ Service │──▶│ + MCP │──▶│ ┌─────────────┐
┌─────────────────────┐ │ │
│ └─────────────┘ │ Tools │ │ │ task-events │ │ reminders
│ │ │
│ └──────┬──────┘ │ └─────────────┘
└─────────────────────┘ │ │
│ │
└──────────┬────────────────────┬────────────┘ │
│ │ │ │
│
│ ▼ ▼ ▼
│
│ ┌─────────────┐ ┌─────────────────┐ ┌─────────────────┐
│
│ │ Neon DB │ │ Recurring Task │ │ Notification │
│
│ │ (External) │ │ Service │ │ Service │
│
│ └─────────────┘ └─────────────────┘ └─────────────────┘
│
└───────────────────────────────────────────────────────────────────────────────
───────┘
